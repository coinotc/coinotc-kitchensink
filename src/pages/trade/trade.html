<!--
  Generated template for the TradePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar col-12 style="margin: 0px">
    <button clear col-12 text-center ion-button icon-only (tap)="presentfilterPopover($event)" style="margin: 0px">
      {{fiat}} / {{'crypto.' + crypto | translate}}
      <ion-icon name='arrow-dropdown'></ion-icon>
    </button>
    <ion-input type='text' placeholder="Search Username..." text-center [(ngModel)]="query"></ion-input>
    <!-- <button *ngIf="buynsell == 'buy'" float-right clear ion-button icon-only (tap)="addbuyad()">
      <i class="fa fa-plus fa-2x" style="background-color: rgba(248, 248, 248, 0.5); border-radius: 2rem;" aria-hidden="true"></i>
    </button>
    <button *ngIf="buynsell == 'sell'" float-right clear ion-button icon-only (tap)="addsellad()">
      <i class="fa fa-plus fa-2x" style="background-color: rgba(248, 248, 248, 0.5); border-radius: 2rem;" aria-hidden="true"></i>
    </button> -->
  </ion-navbar>
  <!-- style="position: absolute; left: 3rem;"  -->
  <!-- <ion-title text-center> -->
  <ion-segment [(ngModel)]="buynsell" (ngModelChange)="doRefresh()">
    <ion-segment-button value="buy">{{'willing.wannaBuy' | translate}}</ion-segment-button>
    <ion-segment-button value="sell">{{'willing.wannaSell' | translate}}</ion-segment-button>
  </ion-segment>
  <!-- </ion-title> -->


</ion-header>


<ion-content fullscreen #content style="top: 100px;">
  <!-- <input type="text" #country style="display:none" (ngModelChange)="change()">
  <input type="text" #fiat style="display:none" (ngModelChange)="change()"> -->
  <!-- <ion-slides style="height:20%;">
    <ion-slide *ngFor="let banner of banners">
      <img src={{banner.imgURL}}>
    </ion-slide>
    <ion-slide>
      <img src="https://i.ytimg.com/vi/Yj7ja6BANLM/maxresdefault.jpg" alt="">
    </ion-slide>
    <ion-slide>
      <img src="https://i.ytimg.com/vi/Yj7ja6BANLM/maxresdefault.jpg" alt="">
    </ion-slide>
    <ion-slide>
      <img src="https://i.ytimg.com/vi/Yj7ja6BANLM/maxresdefault.jpg" alt="">
    </ion-slide>
  </ion-slides> -->
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingText="pulldown to refresh" refreshingSpinner="circles" refreshingText="refreshing...">
    </ion-refresher-content>
  </ion-refresher>
  <ion-list>
    <ion-item *ngFor="let item of list| searchPipe:'owner':query">
      <text-avatar [text]="item.owner" (tap)="profile(item.owner)" item-left></text-avatar>
      <h2>{{item.owner}}</h2>
      <!-- <h3>{{gettrade(item.owner)}}</h3> -->
      <i [class]="item.country" *ngIf="country == 'global'"></i>
      <i *ngFor="let class of item.payment" [class]="class"></i>
      <div item-right text-right>
        <h5 style="color:#02cb66">
          {{item.price | number : '1.2-2'}}&nbsp;{{'fiat.'+item.fiat | translate}}
        </h5>
        <button ion-button [ngClass]="item.crypto" round (tap)="adinformation(item,true)" *ngIf="item.owner === currentuser">view my advertisement</button>
        <button ion-button [ngClass]="item.crypto" round (tap)="adinformation(item,false)" *ngIf="item.type==1 && item.owner != currentuser">{{'Buy' | translate}} {{item.crypto}}</button>
        <button ion-button [ngClass]="item.crypto" round (tap)="adinformation(item,false)" *ngIf="item.type==0 && item.owner != currentuser">{{'Sell' | translate}} {{item.crypto}}</button>
      </div>
    </ion-item>
    <ion-item *ngIf="list&&list.length != 0" style="height: 50px;"></ion-item>
    <ion-item *ngIf="list&&list.length == 0">
      <ion-label style="overflow: visible;">
        empty
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
<ion-footer>
  <ion-fab bottom right>
    <button ion-fab (tap)="addbuyad()" color="secondary" *ngIf="buynsell == 'buy'">
      <ion-icon name="buy"></ion-icon>
    </button>
    <button ion-fab (tap)="addsellad()" color="danger" *ngIf="buynsell == 'sell'">
      <ion-icon name="sell"></ion-icon>
    </button>
  </ion-fab>
</ion-footer>