<!--
  Generated template for the OrderWindowPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-navbar>
    <ion-title>{{'Information' | translate}}</ion-title>
    <ion-buttons end>
      <button ion-button (click)="complain()"  *ngIf="orderInfo.finished == false" icon-only >
        <ion-icon name="notifications" color="danger"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding>

  <div ion-item ion-fixed>

    <ion-card [ngSwitch]="switched">
      <button ion-item (click)="onSwitch()">
        {{'Crypto' | translate}}:{{orderInfo.crypto}}
        <span style="float:right">{{(orderInfo.finished ? 'Completed':'Active') | translate}}</span>
      </button>

      <ion-card-content *ngSwitchCase="true">
        {{'OrderID' | translate}}:
        <span style="float:right">{{orderInfo._id}}</span>
        <br> {{'Amount' | translate}}
        <span style="float:right">{{orderInfo.amount}}</span>
        <br> {{'Quantity' | translate}}
        <span style="float:right">{{orderInfo.quantity}}</span>
        <br> {{'Price' | translate}}
        <span style="float:right">{{orderInfo.price}}</span>
        <br> {{'Buyer' | translate}}:{{orderInfo.buyer}}
        <span style="float:right">{{'Seller' | translate}}:{{orderInfo.seller}}</span>
        <br> {{'Message' | translate}}:TBD

        <div align=center [ngSwitch]="status">
          <div *ngIf="orderInfo.finished == false">
            <button ion-button round *ngSwitchCase="0" (click)="onFinished()">{{'Approve' | translate}}</button>
            <button ion-button round *ngSwitchCase="1" (click)="onFinished()">{{'Inform' | translate}}</button>
          </div>
          <button ion-button round *ngSwitchCase="2" (click)="onComment()">{{'Good' | translate}}</button>
          <button ion-button round *ngSwitchCase="2" (click)="onExit()">{{'Bad' | translate}}</button>
        </div>

      </ion-card-content>

    </ion-card>

    <div align=center>
      <button ion-button round (click)="onProfile(trader)">{{'Trader' | translate}}</button>
      <button ion-button round (click)="onWallet()">{{'Wallet' | translate}}</button>
    </div>

  </div>

  <ion-list no-lines>
    <ion-item *ngFor="let message of messagesList">
      <h3>{{message.name}}</h3>
      <p>{{message.message}}</p>
    </ion-item>
  </ion-list>

</ion-content>

<ion-footer>
  <ion-item>
    <ion-label>{{typing}}</ion-label>
  </ion-item>
  <ion-item>
    <ion-input type="text" placeholder="type here..." [(ngModel)]="newmessage" (keypress)="onChange($event)" (keyup.enter)="send()"></ion-input>
    <button ion-button clear item-right (click)="send()">Send</button>
  </ion-item>
</ion-footer>